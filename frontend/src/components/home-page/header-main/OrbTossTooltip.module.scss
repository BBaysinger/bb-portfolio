@use "@/styles/variables" as *;

.orbTossTooltip {
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  pointer-events: none;
  display: none; // hidden by default; shown only on grab (isDragging) after first drag

  // Hide permanently after wall collision
  :global(.hasCollided) & {
    display: none !important;
  }

  // Show only after user has dragged at least once and while currently grabbing (isDragging)
  // Also only before first collision (notCollided)
  :global(.hasDragged.notCollided) :global(.slinger.isDragging) & {
    display: block;
  }

  // Hide during slinger flight
  :global(.slingerInFlight.notCollided) & {
    opacity: 0;
  }
  // Text ring continues its own spin; arrows now rotate in separate .arrowOrbit
}

// Generic arrow styling
.arrow {
  --distance: 109px; // how far outward each arrow radiates
  --width: 56px;
  --height: 56px;
  position: absolute;
  top: calc(var(--height) * -0.5);
  left: calc(var(--width) * -0.5);
  width: var(--width);
  height: var(--height);
  color: $orangeThemeColor; // drives the color via currentColor
  /* Inline SVG stroke uses currentColor; no mask so drop-shadow outlines the stroke */
  opacity: 0;
  animation: radiate 2.8s ease-in-out infinite;
  transform-origin: center center;
  filter: drop-shadow(0 0 4px rgba(255, 140, 0, 0.65));
  z-index: 1;
}

.arrowSvg {
  display: block;
  width: 100%;
  height: 100%;
  pointer-events: none;
  transform: rotate(180deg);
  // vector-effect: non-scaling-stroke;
  // Inline SVG: control stroke width via CSS var, color via currentColor
  polygon {
    stroke-width: var(--arrow-stroke-width, 4);
  }
}

// Independent orbit for arrow group (reversed direction)
.arrowOrbit {
  animation: orbit 12s linear infinite reverse;
  position: relative;
}

// Individual arrow orientation + stagger
.arrowA {
  --angle: 0deg;
  animation-delay: 0s;
}
.arrowB {
  --angle: 90deg;
  animation-delay: 0.35s;
}
.arrowC {
  --angle: 180deg;
  animation-delay: 0.7s;
}
.arrowD {
  --angle: 270deg;
  animation-delay: 1.05s;
}

@keyframes radiate {
  0% {
    transform: rotate(var(--angle)) translateY(0) scale(0.4);
    opacity: 0;
  }
  15% {
    opacity: 1;
  }
  55% {
    transform: rotate(var(--angle)) translateY(calc(var(--distance) * -1))
      scale(1);
    opacity: 1;
  }
  85% {
    transform: rotate(var(--angle)) translateY(calc(var(--distance) * -1))
      scale(0.9);
    opacity: 0.4;
  }
  100% {
    transform: rotate(var(--angle)) translateY(0) scale(0.4);
    opacity: 0;
  }
}

@keyframes orbit {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

// Circular text ring styles
.textRing {
  --ring-size: 140px;
  position: absolute;
  top: calc(var(--ring-size) * -0.5);
  left: calc(var(--ring-size) * -0.5);
  width: var(--ring-size);
  height: var(--ring-size);
  transform: none;
  transform-origin: center center;
  animation: spinText 18s linear infinite;
  z-index: 2;
  opacity: 0.9;
  svg,
  & {
    display: block;
  }
  text {
    font-size: 14.5px;
    letter-spacing: 0.05em;
    fill: #fff;
    text-transform: uppercase;
  }
}
@keyframes spinText {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
