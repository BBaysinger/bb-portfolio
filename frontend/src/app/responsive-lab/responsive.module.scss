@use "@/styles/mixins" as *;
@use "@/styles/variables" as *;

// Layout tokens (SCSS variables)
$max-width: 1200px;
$gutter: clamp(0.75rem, 0.5rem + 1vw, 2rem);
$radius: 12px;
$shadow: 0 8px 24px rgba(0, 0, 0, 0.08);

.page {
  margin-top: $navBarHeight;
  display: grid;
  grid-template-rows: auto 1fr;
  gap: 0;
  padding: 0;
}

// Flexbox wrapping grid: 1â€“4 columns depending on width
.grid {
  display: flex;
  flex-wrap: wrap;
  gap: 0;
}

.card {
  background: rgb(248 250 252);
  border: 1px solid rgb(226 232 240);
  border-radius: $radius;
  box-shadow: $shadow;
  padding: 0;
  /* Responsive column sizing: default to 4 equal columns with no gap */
  flex: 0 0 calc(100% / 4);
  max-width: calc(100% / 4);
  /* Maintain 1.5 aspect ratio by default */
  aspect-ratio: 3 / 2;

  .cardBody {
    width: 100%;
    height: 100%;
  }
}

// Down to 3 columns
@media (max-width: 1200px) {
  .card {
    flex-basis: calc(100% / 3);
    max-width: calc(100% / 3);
  }
}

/* Down to 2 columns */
@media (max-width: 900px) {
  .card {
    flex-basis: calc(100% / 2);
    max-width: calc(100% / 2);
  }
}

/* Single column ultra narrow: allow taller ratio */
@media (max-width: 560px) {
  .card {
    flex-basis: 100%;
    max-width: 100%;
    /* Taller aspect for narrow single column */
    aspect-ratio: 3 / 4;
  }
}
