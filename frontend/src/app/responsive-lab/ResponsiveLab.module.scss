@use "@/styles/mixins" as *;
@use "@/styles/variables" as *;

.page {
  margin-top: $navBarHeight;
  margin-bottom: $footerBarberPoleThickness;
  display: grid;
  grid-template-rows: auto 1fr;
  gap: 0;
  padding: 0;
}

/* Flexbox wrapping grid: 1â€“4 columns depending on width */
.grid {
  display: flex;
  flex-wrap: wrap;
  gap: 0;
}

.card {
  background: #111;
  border: 1px solid #000;
  padding: 0;
  position: relative;
  // Mobile-first: start with single column
  flex: 0 0 100%;
  max-width: 100%;
  /* Maintain 1.5 aspect ratio by default */
  aspect-ratio: 3 / 2;

  background-size: cover;

  &:nth-child(9n + 1) {
    background-image: url("/images/projects-list-distressed/default.webp");
  }

  &:nth-child(9n + 2) {
    background-image: url("/images/projects-list-distressed/maroon.webp");
  }

  &:nth-child(9n + 3) {
    // layered backgrounds: overlay + middle + base
    background-image:
      url("/images/projects-list-distressed/triangle.svg"),
      url("/images/projects-list-distressed/splay.webp");
    background-repeat: no-repeat, no-repeat;
    background-position: center, center;
    background-size: 50%, contain;

    // subtle glow overlay
    // &::after {
    //   content: "";
    //   position: absolute;
    //   inset: 0;
    //   pointer-events: none;
    //   box-shadow:
    //     0 0 36px 10px rgba(255, 210, 150, 0.26),
    //     inset 0 0 28px rgba(255, 210, 150, 0.18);
    // }
  }

  &:nth-child(9n + 4) {
    background-image:
      url("/images/projects-list-distressed/arrow.webp"),
      url("/images/projects-list-distressed/orange.webp");
    background-repeat: no-repeat, no-repeat;
    background-position:
      center 40%,
      center;
    background-size: 60%, contain;
  }

  &:nth-child(9n + 5) {
    background-image:
      url("/images/projects-list-distressed/asdf.webp"),
      url("/images/projects-list-distressed/slots.webp");
    background-repeat: no-repeat, no-repeat;
    background-position:
      center 40%,
      center;
    background-size: 60%, contain;
  }

  &:nth-child(9n + 6) {
    background-image:
      url("/images/projects-list-distressed/asdf.webp"),
      url("/images/projects-list-distressed/holes.webp");
    background-repeat: no-repeat, no-repeat;
    background-position:
      center 40%,
      center;
    background-size: 60%, contain;
  }

  &:nth-child(9n + 7) {
    background-image:
      url("/images/projects-list-distressed/asdf.webp"),
      url("/images/projects-list-distressed/thin.webp");
    background-repeat: no-repeat, no-repeat;
    background-position:
      center 40%,
      center;
    background-size: 60%, contain;
  }

  &:nth-child(9n + 8) {
    background-image:
      url("/images/projects-list-distressed/asdf.webp"),
      url("/images/projects-list-distressed/screws.webp");
    background-repeat: no-repeat, no-repeat;
    background-position:
      center 40%,
      center;
    background-size: 60%, contain;
  }

  &:nth-child(9n + 9) {
    background-image:
      url("/images/projects-list-distressed/asdf.webp"),
      url("/images/projects-list-distressed/raised.webp");
    background-repeat: no-repeat, no-repeat;
    background-position:
      center 40%,
      center;
    background-size: 60%, contain;
  }

  .cardBody {
    width: 100%;
    height: 100%;
  }
}

// 2 columns
@include breakpointUp($b992px) {
  .card {
    flex-basis: 50%;
    max-width: 50%;
  }
}

// 3 columns
@include breakpointUp($b1440px) {
  .card {
    flex-basis: calc(100% / 3);
    max-width: calc(100% / 3);
  }
}

// 4 columns
@include breakpointUp($b1920px) {
  .card {
    flex-basis: calc(100% / 4);
    max-width: calc(100% / 4);
  }
}
