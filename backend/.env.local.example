###############################################
# BACKEND LOCAL TEMPLATE (.env.local.example)
# Copy to .env.local and adjust as needed. Do NOT commit .env.local.
# Precedence: .env.local overrides .env
###############################################

# Next.js server port (backend)
PORT=3001

# Payload secret (generate a random string)
LOCAL_PAYLOAD_SECRET=your-secure-random-secret-key-here-32chars-min

# Profile and Mongo connection string (prefix-first)
ENV_PROFILE=local
LOCAL_MONGODB_URI=mongodb://localhost:27017/bb-portfolio-local

# Public origin (scheme + host + port) that should serve /admin and /api during local dev.
# Change this to http://localhost:8081 when running the backend through Docker, or to
# http://localhost:8080 when accessing via the local Caddy proxy.
PUBLIC_SERVER_URL=http://localhost:3001

# Frontend origins for CORS/CSRF (comma-separated; prefix-first)
# Examples: docker frontend (8080), next dev (3000), caddy proxy (8080)
LOCAL_FRONTEND_URL=http://localhost:8080,http://localhost:3000

# Unified AWS credentials for all services (S3, SES, deployment)
# Required for Payload CMS S3 uploads and contact form emails
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# AWS SES Email Configuration (for contact form)
LOCAL_AWS_REGION=us-west-2
LOCAL_SES_FROM_EMAIL=noreply@some-domain.com
LOCAL_SES_TO_EMAIL=your-email@some-domain.com

# SMTP Email Configuration (for Payload CMS admin emails)
# Uses either SMTP_FROM_EMAIL or falls back to SES_FROM_EMAIL
LOCAL_SMTP_FROM_EMAIL=your-email@some-domain.com

# Contact info (email and phone) now lives in Payload CMS (Global: ContactInfo).
# No env fallbacks are used. Set values via the Payload Admin UI:
#   Admin → Globals → ContactInfo → Set contactEmail, phoneE164, phoneDisplay

# Next.js Server Actions need a stable encryption key so client and server agree
# and the key does not rotate on every restart. Make this a long, random string.
NEXT_SERVER_ACTIONS_ENCRYPTION_KEY=please-generate-a-long-random-string

# Optional global override for the public server origin. Set this when the same value should be
# shared across all profiles (e.g., CI or staging). Prefix-specific overrides (DEV_/PROD_) remain
# available for deployments that share a single secrets file.
# PAYLOAD_PUBLIC_SERVER_URL=http://localhost:8080

# Optional: Local S3 bucket name used if you enable S3 locally (not required)
# LOCAL_S3_BUCKET=bb-portfolio-media-local
